<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SETTV Push Subscribe</title>
    <link href="./css/push.css" rel="stylesheet">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <div id = "container">
        <!-- <div class="title domainName"><?php echo $protocol?>://<?php echo $domain;?></div>
        <p id="mobile-directions">接受網站推播，參與網站互動。</p> -->

        <div id="m-push">
            <img id="m-push-icon" src="./images/push.png">
            <p id="m-push-title" class="truncatable long desktop message">想傳送推播通知給您。</p>
            <p id="m-push-message" class="truncatable short desktop message">訊息會以這個形式出現</p>
            <p id="m-push-url" class="truncatable short desktop message"></p>
        </div>

        <div id="push">
            <img id="push-icon" src="./images/push.png">
            <p id="x">x</p>
            <p id="push-title">想傳送推播通知給您。</p>
            <p id="push-message">訊息會以這個形式出現</p>
            <p id="push-url"></p>
        </div>
    </div> 
    <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <script src="js/reg.js"></script>
        <script type="text/javascript">
        function detectmob() {
            return navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i) != null;
        }

        /* show mobile example notification on mobile, desktop notification on desktop */
        if (detectmob()) {
            document.getElementById("push").style.display = 'none';
        } else {
            document.getElementById("m-push").style.display = "none";
        }

        var origin = location.protocol+'//'+location.hostname+(location.port ? ':'+location.port: '');
        var el = document.querySelectorAll("p[id*='push-url']");
        el.forEach(function(item, index){
            item.innerHTML = origin;
        });
    </script>
</body>
</html>